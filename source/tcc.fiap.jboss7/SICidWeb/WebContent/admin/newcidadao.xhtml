<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="../template/main.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core">

	<ui:define name="headTitle">
		<title>Cadastrar Cidadão - SICid Admin</title>
	</ui:define>
	
	<ui:define name="title">
		<h1>Cadastrar Cidadão</h1>
	</ui:define>
	
	<ui:define name="content">
	
 		<h:form id="uploadForm" enctype="multipart/form-data">
	    	<p:fileUpload fileUploadListener="#{sicid.cidadao.uploadCertCidadao}"
	    		label="Importar Certificado do Cidadão" mode="advanced"
	    		invalidFileMessage="Formato de arquivo inválido. Somente são aceitos arquivos *.cer,*.crt,*.pem,*.der"
	    		invalidSizeMessage="Tamanho do arquivo excede 100KB."
	    		onstart="statusDialog.show();" oncomplete="statusDialog.hide();"
	    		update=":formCidadao,:formCidadao:panelNewCidadao"
	    		auto="true" sizeLimit="100000" allowTypes="/(\.|\/)(cer|crt|pem|der)$/" />
		</h:form>

		<p:spacer width="100%" height="4px" />
	
		<h:form id="formCidadao" method="post" acceptcharset="ISO-8859-1">

			<p:panel style="border:none">
				<h:panelGroup id="panelNewCidadao" layout="block" style="width:100%">
				
					<h:panelGrid columns="1" cellpadding="2" width="100%">
				 		<h:outputText value="Certificado (DN):" />
				 		<p:inputText value="#{sicid.cidadao.newCidadao.dname}"
				 			maxlength="256"
				 			required="true" requiredMessage="Especifique o DN do certificado do cidadão."
				 			title="DN do certificado do cidadão" style="width:948px" />
				 	</h:panelGrid>

					<h:panelGrid columns="3" cellpadding="2" width="100%">
				 		<h:outputText value="Nome:" />
			 			<h:outputText value="Nome do Pai:" />
					 	<h:outputText value="Nome da Mãe:" />
	
				 		<p:inputText value="#{sicid.cidadao.newCidadao.nome}"
				 			maxlength="64"
				 			required="true" requiredMessage="Especifique o nome do cidadão."
				 			title="Nome do cidadão" style="width:305px" />
				 		<p:inputText value="#{sicid.cidadao.newCidadao.nomePai}"
				 			maxlength="64"
				 			required="true" requiredMessage="Especifique o nome do pai."
				 			title="Nome do pai" style="width:305px" />
				 		<p:inputText value="#{sicid.cidadao.newCidadao.nomeMae}"
				 			maxlength="64" 
				 			required="true" requiredMessage="Especifique o nome da mãe."
				 			title="Nome do mãe" style="width:305px" />
					</h:panelGrid>
	
					<p:spacer height="2"/>
	
					<h:panelGrid columns="5" cellpadding="2" width="100%">
					 	<h:outputText value="Data de Nascimento:" />
					 	<h:outputText value="RIC:" />
					 	<h:outputText value="CPF:" />
					 	<h:outputText value="PIS/PASEP:" />
					 	<h:outputText value="CEI:" />
	
					 	<p:calendar value="#{sicid.cidadao.newCidadao.dataNascimento}" pattern="dd/MM/yyyy" required="true"
					 		requiredMessage="Especifique a data de nascimento do cidadão."
					 		title="Data de Nascimento do cidadão" style="width:150px" />
				 		<p:inputText value="#{sicid.cidadao.newCidadao.ric}" maxlength="11" required="true"
				 			requiredMessage="Especifique o número do RIC do cidadão."
				 			title="RIC do cidadão" style="width:182px" />
			 			<p:inputText value="#{sicid.cidadao.newCidadao.cpf}" maxlength="11" required="false"
			 				requiredMessage="Especifique o número do CPF do cidadão."
			 				title="CPF do cidadão" style="width:182px" />
					 	<p:inputText value="#{sicid.cidadao.newCidadao.pisPasep}" maxlength="11" required="false"
					 		requiredMessage="Especifique o número do PIS/PASEP do cidadão."
					 		title="Número de inscrição no PIS/PASEP do cidadão" style="width:182px" />
					 	<p:inputText value="#{sicid.cidadao.newCidadao.cei}" maxlength="12" required="false"
					 		requiredMessage="Especifique o número do CEI do cidadão."
					 		title="Número de inscrição no CEI do cidadão" style="width:182px" />
					</h:panelGrid>
	
					<p:spacer height="2"/>
	
					<h:panelGrid columns="3" cellpadding="2" width="100%">
					 	<h:outputText value="RG:" />
				 		<h:outputText value="Órgão Emissor:" />
					 	<h:outputText value="UF:" />
	
				 		<p:inputText id="rg" value="#{sicid.cidadao.newCidadao.rg.numero}" maxlength="15" required="false"
				 			requiredMessage="Especifique o número do RG do cidadão."
				 			title="Número do RG do cidadão" style="width:425px" />
				 		<p:inputText id="rgOrgExpedidor" value="#{sicid.cidadao.newCidadao.rg.orgExpedidor}" maxlength="4"	required="false"
				 			requiredMessage="Especifique o Órgão Expedidor do RG do cidadão."
				 			title="Órgão Emissor do RG do cidadão" style="width:300px" />
					 	<p:inputText id="rgUF" value="#{sicid.cidadao.newCidadao.rg.uf}" maxlength="2"	required="false"
					 		requiredMessage="Especifique a UF do RG do cidadão."
					 		title="UF do RG do cidadão" style="width:188px" />
					</h:panelGrid>
	
					<p:spacer height="2"/>
	
					<h:panelGrid columns="5" cellpadding="2" width="100%">
						<h:outputText value="Título Eleitoral:" />
				 		<h:outputText value="Zona:" />
				 		<h:outputText value="Seção:" />
				 		<h:outputText value="Município:" />
				 		<h:outputText value="UF:" />
	
					 	<p:inputText value="#{sicid.cidadao.newCidadao.titulo.numero}" maxlength="12" required="false"
					 		requiredMessage="Especifique o número do Título Eleitoral do cidadão."
					 		title="Número do Título Eleitoral do cidadão" style="width:276px" />
				 		<p:inputText value="#{sicid.cidadao.newCidadao.titulo.zona}" maxlength="3" required="false"
				 			requiredMessage="Especifique a Zona do Título Eleitoral do cidadão."
				 			title="Zona do Título Eleitoral do cidadão" style="width:100px" />
				 		<p:inputText value="#{sicid.cidadao.newCidadao.titulo.secao}" maxlength="4" required="false"
				 			requiredMessage="Especifique a Seção do Título Eleitoral do cidadão."
				 			title="Seção do Título Eleitoral do cidadão" style="width:100px" />
				 		<p:inputText value="#{sicid.cidadao.newCidadao.titulo.municipio}" maxlength="20" required="false"
				 			requiredMessage="Especifique o Município do Título Eleitoral do cidadão."
				 			title="Município do Título Eleitoral do cidadão" style="width:280px" />
				 		<p:inputText value="#{sicid.cidadao.newCidadao.titulo.uf}" maxlength="2" required="false"
					 		requiredMessage="Especifique a UF do Título Eleitoral do cidadão."
					 		title="UF do Título Eleitoral do cidadão" style="width:122px" />
					</h:panelGrid>
	
					<p:spacer height="2"/>
				
				</h:panelGroup>

				<f:facet name="footer">
					<p align="center">
				    	<p:commandButton value="Cadastrar" ajax="false" action="#{sicid.cidadao.adicionarCidadao}"
				        	onclick="statusDialog.show();" onsuccess="statusDialog.hide();" />&nbsp;  
						<p:commandButton value="Cancelar" ajax="false" immediate="true" action="#{sicid.cidadao.goToCidadao}" />
				    </p>
				</f:facet>
				 
			</p:panel>
			
			<p:dialog modal="true" widgetVar="statusDialog" header="Processando. Aguarde..."   
			        draggable="false" closable="false" resizable="false" dynamic="true">  
			    <p:graphicImage value="../images/ajaxloadingbar.gif" />  
			</p:dialog>  			
			
		</h:form>
	</ui:define>

</ui:composition>
